<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - Whisper AI Transcription Service</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
        :root {
            --primary-color: #4F46E5;
            --secondary-color: #7C3AED;
            --dark-color: #1F2937;
            --light-color: #F3F4F6;
            --border-color: #E5E7EB;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            color: var(--dark-color);
            line-height: 1.6;
        }
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .navbar {
            background-color: var(--primary-color);
            padding: 1rem 0;
        }
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
        }
        .sidebar {
            position: sticky;
            top: 20px;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
            padding-right: 15px;
        }
        .sidebar .nav-link {
            color: var(--dark-color);
            padding: 0.5rem 0;
            border-left: 2px solid transparent;
            font-size: 0.9rem;
        }
        .sidebar .nav-link:hover {
            color: var(--primary-color);
        }
        .sidebar .nav-link.active {
            color: var(--primary-color);
            border-left: 2px solid var(--primary-color);
            font-weight: 600;
            padding-left: 0.5rem;
        }
        .code-block {
            background-color: #F9FAFB;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        .parameter-table th {
            font-weight: 600;
            background-color: #F9FAFB;
        }
        .card {
            margin-bottom: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        .card-header {
            background-color: #F9FAFB;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
        }
        .tag {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            margin-right: 0.5rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .tag-get {
            background-color: #DBEAFE;
            color: #1E40AF;
        }
        .tag-post {
            background-color: #D1FAE5;
            color: #065F46;
        }
        .response-example {
            background-color: #F9FAFB;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            margin-top: 0.5rem;
        }
        .http-status {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .status-200 {
            background-color: #D1FAE5;
            color: #065F46;
        }
        .status-400, .status-500 {
            background-color: #FEE2E2;
            color: #B91C1C;
        }
        .footer {
            margin-top: 4rem;
            padding: 2rem 0;
            background-color: #F9FAFB;
            border-top: 1px solid var(--border-color);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Whisper AI Transcription Service</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#introduction">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#api-reference">API Reference</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-3">
                <div class="sidebar">
                    <nav class="nav flex-column">
                        <a class="nav-link" href="#introduction">Introduction</a>
                        <a class="nav-link" href="#overview">Overview</a>
                        <a class="nav-link" href="#authentication">Authentication</a>
                        <a class="nav-link" href="#rate-limiting">Rate Limiting</a>
                        <a class="nav-link" href="#errors">Error Codes</a>
                        <a class="nav-link" href="#api-reference">API Reference</a>
                        <a class="nav-link ms-3" href="#endpoint-transcribe">POST /transcribe/</a>
                        <a class="nav-link" href="#response-format">Response Format</a>
                        <a class="nav-link" href="#examples">Request Examples</a>
                        <a class="nav-link" href="#contact">Contact</a>
                    </nav>
                </div>
            </div>
            <div class="col-lg-9">
                <section id="introduction">
                    <h1>Whisper AI Service API Documentation</h1>
                    <p class="lead">
                        Welcome to the API documentation for the Whisper AI Transcription Service. This service
                        offers a simple and powerful way to transcribe audio files to text using OpenAI Whisper models.
                    </p>
                    <div class="alert alert-primary">
                        <strong>Version:</strong> 1.0.0<br>
                        <strong>Host:</strong> https://transcription.wraiter.it<br>
                        <strong>Base Model:</strong> Whisper AI (base)
                    </div>
                </section>

                <section id="overview" class="mt-5">
                    <h2>Overview</h2>
                    <p>
                        The Whisper AI Transcription Service is a FastAPI-based microservice that uses
                        OpenAI Whisper to transcribe audio files to text. The service accepts audio files in various
                        formats and can automatically recognize the language of the content, with optimized support
                        for Italian.
                    </p>
                    <p>
                        This API is designed to be intuitive and easy to integrate into any application
                        that requires audio transcription functionality.
                    </p>
                </section>

                <section id="authentication" class="mt-5">
                    <h2>Authentication</h2>
                    <p>
                        Currently, the service does not require authentication and is publicly accessible.
                        However, it is subject to rate limiting to prevent abuse.
                    </p>
                </section>

                <section id="rate-limiting" class="mt-5">
                    <h2>Rate Limiting</h2>
                    <p>
                        To ensure service availability for all users, the following usage limits are in place:
                    </p>
                    <ul>
                        <li>Maximum 10 requests per minute per IP</li>
                        <li>Maximum file size: 25MB</li>
                        <li>Maximum audio duration: 10 minutes</li>
                    </ul>
                </section>

                <section id="errors" class="mt-5">
                    <h2>Error Codes</h2>
                    <p>
                        The API uses standard HTTP status codes to indicate the success or failure of a
                        request. Here are the main error codes you might encounter:
                    </p>
                    <table class="table table-bordered parameter-table">
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>200</td>
                                <td>Success. The request has been processed correctly.</td>
                            </tr>
                            <tr>
                                <td>400</td>
                                <td>Bad request. May be due to missing parameters or invalid files.</td>
                            </tr>
                            <tr>
                                <td>500</td>
                                <td>Internal server error. A problem occurred while processing the request.</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="api-reference" class="mt-5">
                    <h2>API Reference</h2>
                    <p>
                        This section describes in detail the endpoints available in the API and how to use them.
                    </p>

                    <div id="endpoint-transcribe" class="card mt-4">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <span><span class="tag tag-post">POST</span> /transcribe/</span>
                        </div>
                        <div class="card-body">
                            <p>
                                This endpoint accepts an audio file and transcribes it to text. It supports various
                                audio formats such as MP3, WAV, M4A, FLAC, and others.
                            </p>

                            <h5>Request Parameters</h5>
                            <table class="table table-bordered parameter-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>audio_file</td>
                                        <td>File</td>
                                        <td>Yes</td>
                                        <td>The audio file to transcribe. Must be a valid audio format.</td>
                                    </tr>
                                    <tr>
                                        <td>language</td>
                                        <td>String</td>
                                        <td>No</td>
                                        <td>Language code of the audio (e.g., "it" for Italian). If not specified, Whisper will attempt to automatically detect the language.</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h5 class="mt-4">Responses</h5>

                            <div>
                                <span class="http-status status-200">200 OK</span>
                                <p class="mt-2">The transcription was completed successfully.</p>
                                <div class="response-example">
                                    <pre><code class="language-json">{
  "transcription": "Text transcribed from the audio file."
}</code></pre>
                                </div>
                            </div>

                            <div class="mt-3">
                                <span class="http-status status-400">400 Bad Request</span>
                                <p class="mt-2">Missing or invalid parameters.</p>
                                <div class="response-example">
                                    <pre><code class="language-json">{
  "detail": "The uploaded file is not an audio file"
}</code></pre>
                                </div>
                            </div>

                            <div class="mt-3">
                                <span class="http-status status-500">500 Internal Server Error</span>
                                <p class="mt-2">An error occurred while processing the request.</p>
                                <div class="response-example">
                                    <pre><code class="language-json">{
  "detail": "Error during transcription: [error message]"
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="response-format" class="mt-5">
                    <h2>Response Format</h2>
                    <p>
                        All responses are in JSON format and include the following fields:
                    </p>
                    <table class="table table-bordered parameter-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>transcription</td>
                                <td>String</td>
                                <td>The text transcribed from the audio file.</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="response-example mt-3">
                        <pre><code class="language-json">{
  "transcription": "This is an example of text transcribed from an audio file."
}</code></pre>
                    </div>
                </section>

                <section id="examples" class="mt-5">
                    <h2>Request Examples</h2>

                    <div class="card mt-3">
                        <div class="card-header">
                            Example with cURL
                        </div>
                        <div class="card-body">
                            <pre><code class="language-bash">curl -X POST "https://transcription.wraiter.it/transcribe/" \
  -H "accept: application/json" \
  -H "Content-Type: multipart/form-data" \
  -F "audio_file=@/path/to/audio_file.mp3" \
  -F "language=it"</code></pre>
                        </div>
                    </div>

                    <div class="card mt-3">
                        <div class="card-header">
                            Example with JavaScript (Fetch API)
                        </div>
                        <div class="card-body">
                            <pre><code class="language-javascript">const formData = new FormData();
formData.append('audio_file', fileInput.files[0]);
formData.append('language', 'it');

fetch('https://transcription.wraiter.it/transcribe/', {
  method: 'POST',
  body: formData
})
.then(response => response.json())
.then(data => {
  console.log('Transcription:', data.transcription);
})
.catch(error => {
  console.error('Error:', error);
});</code></pre>
                        </div>
                    </div>

                    <div class="card mt-3">
                        <div class="card-header">
                            Example with Python (requests)
                        </div>
                        <div class="card-body">
                            <pre><code class="language-python">import requests

url = "https://transcription.wraiter.it/transcribe/"

files = {
    'audio_file': open('audio_file.mp3', 'rb')
}

data = {
    'language': 'it'
}

response = requests.post(url, files=files, data=data)
result = response.json()

print("Transcription:", result['transcription'])</code></pre>
                        </div>
                    </div>
                </section>

                <section id="contact" class="mt-5">
                    <h2>Contact</h2>
                    <p>
                        For questions, support, or feedback about this API, you can contact us through the following channels:
                    </p>
                    <ul>
                        <li>Email: <a href="mailto:info@wraiter.it">info@wraiter.it</a></li>
                        <li>GitHub: <a href="https://github.com/Emanuel1130/whisper-ai-service" target="_blank">github.com/Emanuel1130/whisper-ai-service</a></li>
                        <li>Website: <a href="https://www.wraiter.it" target="_blank">www.wraiter.it</a></li>
                    </ul>
                </section>
            </div>
        </div>
    </div>

    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Whisper AI Transcription Service</h5>
                    <p>
                        A powerful and easy-to-use audio transcription service,
                        based on OpenAI Whisper.
                    </p>
                </div>
                <div class="col-md-3">
                    <h5>Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#introduction">Documentation</a></li>
                        <li><a href="#api-reference">API Reference</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Resources</h5>
                    <ul class="list-unstyled">
                        <li><a href="https://fastapi.tiangolo.com/" target="_blank">FastAPI</a></li>
                        <li><a href="https://github.com/openai/whisper" target="_blank">OpenAI Whisper</a></li>
                        <li><a href="https://www.wraiter.it" target="_blank">Wraiter.it</a></li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2023 Whisper AI Transcription Service. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sidebar navigation handling
            const navLinks = document.querySelectorAll('.sidebar .nav-link');
            
            function setActiveLink() {
                let currentPosition = window.scrollY;
                
                document.querySelectorAll('section[id]').forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.offsetHeight;
                    const sectionId = section.getAttribute('id');
                    
                    if (currentPosition >= sectionTop && currentPosition < sectionTop + sectionHeight) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === '#' + sectionId) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }
            
            window.addEventListener('scroll', setActiveLink);
            setActiveLink();
            
            // Smooth scrolling for internal links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html> 